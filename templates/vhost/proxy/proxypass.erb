
  location <%= @location %> {
    <%- if @auth_basic -%>
    auth_basic "<%= @auth_basic_banner %>";
    auth_basic_user_file <%= @auth_basic_target %>;
      <%- if defined?(@satisfy) -%>
    satisfy <%= @satisfy %>
      <%- end -%>
    <%- end -%>
    proxy_pass <%= @proxypass_url %>;
<% if defined?(@proxy_http_version) -%>
    proxy_http_version <%= @proxy_http_version %>;
<% end -%>
<% if @health_check -%>
    health_check <% -%>
<% if defined?(@health_check_uri) %>uri=<%= @health_check_uri %> <% end -%>
<% if defined?(@health_check_interval) %>interval=<%= @health_check_interval %> <% end -%>
<% if defined?(@health_check_jitter) %>jitter=<%= @health_check_jitter %> <% end -%>
<% if defined?(@health_check_fails) %>fails=<%= @health_check_fails %> <% end -%>
<% if defined?(@health_check_passes) %>passes=<%= @health_check_passes %> <% end -%>
<% if defined?(@health_check_match) %>match=<%= @health_check_match %> <% end -%>
<% if defined?(@health_check_port) %>port=<%= @health_check_port %> <% end -%>
<% if @health_check_mandatory %>mandatory <% end -%>
;
<% end -%>
